<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.naver.dcancer.dao.AnswerDAO">
	<select id="totalRec" resultType="int">
		Select Count(no) from ansboard
	</select>
	<select id="answerList" resultType="com.naver.dcancer.dto.AnswerDTO">
		select no, title, a.id,hit, writedate, ip, refno, lv, step, r.name from ansboard a join regist r on a.id=r.id order by no desc
	</select>
	<insert id="answerInsert">
		insert into ansboard(no, title, content, id, ip, refno) values(answer_sq.nextval, #{title}, #{content}, #{id}, #{ip}, answer_sq.currval)
	</insert>
	<select id="ansView" resultType="com.naver.dcancer.dto.AnswerDTO">
		select no, title, a.id, r.name, writedate, hit, content from ansboard a join regist r on a.id=r.id
	</select>
</mapper>